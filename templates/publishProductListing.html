<!DOCTYPE html>
<html>

<body>
    <H1 style="color:white;background-color:rgb(30,64,124);">This is PublishProductListing page!</H1>
    Hello, Seller:<b style="color:rgb(0,142,226);"> {{ user }} </b>
    <br><br>
    <b>Please provide below information to publish a new product listing: </b>
    <br><br>
    <form action="/publishProductListing.html" method="POST">
        <div class="form-group">
            <label for="productTitle"><b>Product Title: </b></label>
            <input type="text" name="ProductTitle" required class="form-control">
        </div>
        <br>
        <div class="form-group">
            <label for="name"><b>Product Name: </b></label>
            <input type="text" name="name" required class="form-control">
        </div>
        <br>
        <div class="form-group">
            <label for="description"><b>Product Description: </b></label>
            <input type="text" name="description" required class="form-control">
        </div>
        <br>
        <div class="form-group">
            <label for="price"><b>Price: </b></label>
            <input type="text" name="price" required class="form-control">
        </div>
        <br>
        <div class="form-group">
            <label for="quantity"><b>Quantity: </b></label>
            <input type="text" name="quantity" required class="form-control">
        </div>
        <br>
        <div class="form-group">
            <label for="period"><b>Active Period (in Days): </b></label>
            <input type="text" name="period" required class="form-control">
        </div>
        <br>
        <div>
            <b>Product Category/Subcategory/Subsubcategory: </b>
            <select name="category" id="category">
                {% for element in categories%}
                <option value="{{element}}">{{element}}</option>
                {% endfor %}
            </select>
        </div>
        <br>
        <div>
        <button type="submit" class="btn btn-primary">Add Product Listing</button>
        
    </div>
    </form>
    <br>
    <a href="checkingInfo.html">
        <input type="submit" value="Back" />
    </a>
    <br><br>
    <b>All your product listings are listed below:</b>
    <table class="table table-dark">
        <tr style="color:white;background-color:rgb(30,64,124);">
            <th scope="col"> Listing ID</th>
            <th scope="col"> Category</th>
            <th scope="col"> Title</th>
            <th scope="col"> Product Name</th>
            <th scope="col"> Product Description</th>
            <th scope="col"> Price</th>
            <th scope="col"> Quantity</th>
            <th scope="col"> Active Period</th>
            <th scope="col"> Status</th>
            <th scope="col"> Operation</th>
        </tr>
        <tbody>
            {% for  listing_id, category, title, product_name, product_description, price, quantity, active_period, status in product_listing %}
            <tr style="background-color:powderblue;">
                <td> {{ listing_id }}</td>
                <td> {{ category }}</td>
                <td> {{ title }} </td>
                <td> {{ product_name }} </td>
                <td> {{ product_description }} </td>
                <td> {{ price }} </td>
                <td> {{ quantity }} </td>
                <td> {{ active_period }} </td>
                <td> {{ status }} </td>
                <td>
                    <form action="/publishProductListing.html" method="POST">
                        <button name='change' type="submit" class="btn btn-primary" value={{ listing_id }}>Change Status</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <h3>{{ message }}</h3>
    {% endfor %}
    {% endif %}
    {% endwith %}

    

</body>

</html>